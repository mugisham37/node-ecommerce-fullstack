{
  "zone_name": "ecommerce-inventory.com",
  "settings": {
    "ssl": {
      "value": "full",
      "description": "Full SSL encryption"
    },
    "always_use_https": {
      "value": "on",
      "description": "Always use HTTPS"
    },
    "min_tls_version": {
      "value": "1.2",
      "description": "Minimum TLS version"
    },
    "tls_1_3": {
      "value": "on",
      "description": "Enable TLS 1.3"
    },
    "automatic_https_rewrites": {
      "value": "on",
      "description": "Automatic HTTPS rewrites"
    },
    "security_level": {
      "value": "medium",
      "description": "Security level"
    },
    "browser_check": {
      "value": "on",
      "description": "Browser integrity check"
    },
    "challenge_ttl": {
      "value": 1800,
      "description": "Challenge TTL in seconds"
    },
    "development_mode": {
      "value": "off",
      "description": "Development mode"
    },
    "cache_level": {
      "value": "aggressive",
      "description": "Cache level"
    },
    "browser_cache_ttl": {
      "value": 14400,
      "description": "Browser cache TTL in seconds"
    },
    "edge_cache_ttl": {
      "value": 7200,
      "description": "Edge cache TTL in seconds"
    },
    "sort_query_string_for_cache": {
      "value": "on",
      "description": "Sort query string for cache"
    },
    "minify": {
      "css": "on",
      "html": "on",
      "js": "on"
    },
    "brotli": {
      "value": "on",
      "description": "Brotli compression"
    },
    "early_hints": {
      "value": "on",
      "description": "Early hints"
    },
    "http2": {
      "value": "on",
      "description": "HTTP/2"
    },
    "http3": {
      "value": "on",
      "description": "HTTP/3"
    },
    "zero_rtt": {
      "value": "on",
      "description": "0-RTT Connection Resumption"
    },
    "ipv6": {
      "value": "on",
      "description": "IPv6 compatibility"
    },
    "websockets": {
      "value": "on",
      "description": "WebSockets"
    },
    "pseudo_ipv4": {
      "value": "off",
      "description": "Pseudo IPv4"
    },
    "ip_geolocation": {
      "value": "on",
      "description": "IP geolocation"
    },
    "email_obfuscation": {
      "value": "on",
      "description": "Email obfuscation"
    },
    "server_side_exclude": {
      "value": "on",
      "description": "Server side exclude"
    },
    "hotlink_protection": {
      "value": "off",
      "description": "Hotlink protection"
    },
    "rocket_loader": {
      "value": "off",
      "description": "Rocket Loader"
    },
    "mirage": {
      "value": "on",
      "description": "Mirage"
    },
    "polish": {
      "value": "lossless",
      "description": "Polish image optimization"
    },
    "webp": {
      "value": "on",
      "description": "WebP conversion"
    }
  },
  "page_rules": [
    {
      "targets": [
        {
          "target": "url",
          "constraint": {
            "operator": "matches",
            "value": "ecommerce-inventory.com/api/*"
          }
        }
      ],
      "actions": [
        {
          "id": "cache_level",
          "value": "bypass"
        },
        {
          "id": "security_level",
          "value": "high"
        }
      ],
      "priority": 1,
      "status": "active"
    },
    {
      "targets": [
        {
          "target": "url",
          "constraint": {
            "operator": "matches",
            "value": "ecommerce-inventory.com/static/*"
          }
        }
      ],
      "actions": [
        {
          "id": "cache_level",
          "value": "cache_everything"
        },
        {
          "id": "edge_cache_ttl",
          "value": 2592000
        },
        {
          "id": "browser_cache_ttl",
          "value": 2592000
        }
      ],
      "priority": 2,
      "status": "active"
    },
    {
      "targets": [
        {
          "target": "url",
          "constraint": {
            "operator": "matches",
            "value": "ecommerce-inventory.com/_next/static/*"
          }
        }
      ],
      "actions": [
        {
          "id": "cache_level",
          "value": "cache_everything"
        },
        {
          "id": "edge_cache_ttl",
          "value": 31536000
        },
        {
          "id": "browser_cache_ttl",
          "value": 31536000
        }
      ],
      "priority": 3,
      "status": "active"
    }
  ],
  "firewall_rules": [
    {
      "filter": {
        "expression": "(http.request.uri.path contains \"/admin\" and ip.geoip.country ne \"US\")",
        "paused": false
      },
      "action": "block",
      "priority": 1,
      "description": "Block non-US access to admin panel"
    },
    {
      "filter": {
        "expression": "(http.request.method eq \"POST\" and http.request.uri.path contains \"/api/auth/login\" and rate(1m) > 5)",
        "paused": false
      },
      "action": "challenge",
      "priority": 2,
      "description": "Rate limit login attempts"
    },
    {
      "filter": {
        "expression": "(http.user_agent contains \"bot\" and not http.user_agent contains \"Googlebot\" and not http.user_agent contains \"Bingbot\")",
        "paused": false
      },
      "action": "challenge",
      "priority": 3,
      "description": "Challenge unknown bots"
    }
  ],
  "rate_limiting_rules": [
    {
      "threshold": 100,
      "period": 60,
      "action": "simulate",
      "match": {
        "request": {
          "methods": ["GET", "POST", "PUT", "DELETE"],
          "schemes": ["HTTP", "HTTPS"],
          "url": "ecommerce-inventory.com/api/*"
        }
      },
      "disabled": false,
      "description": "API rate limiting"
    },
    {
      "threshold": 10,
      "period": 60,
      "action": "block",
      "match": {
        "request": {
          "methods": ["POST"],
          "schemes": ["HTTPS"],
          "url": "ecommerce-inventory.com/api/auth/*"
        }
      },
      "disabled": false,
      "description": "Authentication rate limiting"
    }
  ],
  "load_balancing": {
    "pools": [
      {
        "name": "primary-pool",
        "description": "Primary application pool",
        "enabled": true,
        "minimum_origins": 1,
        "monitor": "health-check-monitor",
        "origins": [
          {
            "name": "primary-origin",
            "address": "api.ecommerce-inventory.com",
            "enabled": true,
            "weight": 1
          }
        ],
        "notification_email": "admin@ecommerce-inventory.com"
      }
    ],
    "monitors": [
      {
        "name": "health-check-monitor",
        "description": "Health check monitor",
        "type": "https",
        "method": "GET",
        "path": "/health",
        "header": {
          "Host": ["api.ecommerce-inventory.com"],
          "User-Agent": ["Cloudflare-Health-Check"]
        },
        "timeout": 5,
        "retries": 2,
        "interval": 60,
        "expected_codes": "200",
        "follow_redirects": false,
        "allow_insecure": false
      }
    ]
  }
}